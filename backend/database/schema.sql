-- Database schema for CLIA LIS\n\nCREATE TABLE users (\n    id SERIAL PRIMARY KEY,\n    name VARCHAR(255) NOT NULL,\n    role ENUM('lab_staff', 'physician') NOT NULL,\n    email VARCHAR(255) UNIQUE NOT NULL,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE patients (\n    id SERIAL PRIMARY KEY,\n    first_name VARCHAR(100) NOT NULL,\n    last_name VARCHAR(100) NOT NULL,\n    date_of_birth DATE NOT NULL,\n    gender ENUM('male', 'female', 'other'),\n    medical_history TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE orders (\n    id SERIAL PRIMARY KEY,\n    patient_id INT NOT NULL REFERENCES patients(id),\n    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    status ENUM('pending', 'completed', 'cancelled') NOT NULL,\n    cpt_code VARCHAR(10),\n    icd10_code VARCHAR(10),\n    source_tracking ENUM('private', 'hospital'),\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE ordering_physicians (\n    id SERIAL PRIMARY KEY,\n    user_id INT NOT NULL REFERENCES users(id),\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE audit_logs (\n    id SERIAL PRIMARY KEY,\n    action VARCHAR(255) NOT NULL,\n    user_id INT NOT NULL REFERENCES users(id),\n    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);